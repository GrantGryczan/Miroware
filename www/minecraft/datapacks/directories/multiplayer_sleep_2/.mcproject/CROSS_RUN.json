[
  [
    "lastUpdate",
    "Thu Oct 29 2020 01:28:02 GMT-0400 (Eastern Daylight Time)"
  ],
  [
    "INTERNAL/VIRTUAL_FILE_SYSTEM",
    {
      "src\\multiplayer_sleep.mc": {
        "data\\multiplayer_sleep\\functions\\load.mcfunction": "scoreboard objectives add mpSleep.config dummy \"Multiplayer Sleep Config\"\nscoreboard objectives add mpSleep.dummy dummy\nscoreboard objectives add mpSleep trigger \"Multiplayer Sleep\"\nscoreboard objectives add mpSleep.sleep dummy\nscoreboard players set #total mpSleep.config 100\nexecute unless score #percent mpSleep.config matches 0..100 run scoreboard players set #percent mpSleep.config 0\nexecute unless score #display mpSleep.config matches 0..3 run scoreboard players set #display mpSleep.config 3\nexecute unless score #immediateChat mpSleep.config matches 0..1 run scoreboard players set #immediateChat mpSleep.config 0\nexecute unless score #alwaysClear mpSleep.config matches 0..1 run scoreboard players set #alwaysClear mpSleep.config 0\nbossbar add multiplayer_sleep:progress \"Multiplayer Sleep Progress\"\nbossbar add multiplayer_sleep:preview \"Multiplayer Sleep Progress\"\nbossbar set multiplayer_sleep:preview name \"1 of 2 player(s) asleep\"\nbossbar set multiplayer_sleep:preview visible true\nbossbar set multiplayer_sleep:preview value 1\nbossbar set multiplayer_sleep:preview max 2\nbossbar set multiplayer_sleep:preview players\nadvancement revoke @a only multiplayer_sleep:slept_in_bed",
        "data\\multiplayer_sleep\\functions\\uninstall.mcfunction": "schedule clear multiplayer_sleep:tick\nscoreboard objectives remove mpSleep.config\nscoreboard objectives remove mpSleep.dummy\nscoreboard objectives remove mpSleep\nscoreboard objectives remove mpSleep.sleep\nbossbar remove multiplayer_sleep:progress\nbossbar remove multiplayer_sleep:preview",
        "data\\multiplayer_sleep\\functions\\trigger\\use_config.mcfunction": "execute if score @s mpSleep matches 7 run scoreboard players reset @s mpSleep.config\nexecute if score @s mpSleep matches 8 run scoreboard players set @s mpSleep.config 1\nexecute if score @s mpSleep matches 9 run scoreboard players set @s mpSleep.config 2\nexecute if score @s mpSleep matches 10 run scoreboard players set @s mpSleep.config 3\nscoreboard players set @s mpSleep 3",
        "data\\multiplayer_sleep\\functions\\trigger\\index.mcfunction": "tellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}\ntellraw @s [\"                        Multiplayer Sleep\",{\"text\":\" / \",\"color\":\"gray\"},\"Info                         \"]\ntellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}\nexecute if score #percent mpSleep.config matches 0 run tellraw @s [\"\",{\"text\":\">> \",\"color\":\"gray\"},\"1 player in the overworld must sleep to skip the night and the rain.\"]\nexecute unless score #percent mpSleep.config matches 0 run tellraw @s [\"\",{\"text\":\">> \",\"color\":\"gray\"},{\"score\":{\"name\":\"#percent\",\"objective\":\"mpSleep.config\"}},\"% of players in the overworld must sleep to skip the night and the rain.\"]\ntellraw @s [\"\",{\"text\":\">> \",\"color\":\"gold\"},{\"text\":\"[ Personal Settings ]\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 3\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":{\"text\":\"Click to show personal settings.\",\"color\":\"gray\"}}}]\ntellraw @s [\"\",{\"text\":\">> \",\"color\":\"gold\"},{\"text\":\"[ List Sleeping Players ]\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 2\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":{\"text\":\"Click to list sleeping players.\",\"color\":\"gray\"}}}]\ntellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}",
        "data\\multiplayer_sleep\\functions\\trigger\\list_sleeping_players.mcfunction": "execute as @a[gamemode=!spectator,predicate=multiplayer_sleep:overworld] if data entity @s SleepingX run tag @s add mpSleep.sleeping\nexecute store success score #sleeping mpSleep.dummy if entity @a[tag=mpSleep.sleeping]\nexecute if score #sleeping mpSleep.dummy matches 0 run tellraw @s {\"text\":\"There are no sleeping players.\",\"color\":\"red\"}\nexecute unless score #sleeping mpSleep.dummy matches 0 run tellraw @s [{\"text\":\"Sleeping players: \",\"color\":\"COLOR_1\"},{\"selector\":\"@a[tag=mpSleep.sleeping]\",\"color\":\"COLOR_2\"}]\ntag @a remove mpSleep.sleeping",
        "data\\multiplayer_sleep\\functions\\trigger\\show_disabled_display_default.mcfunction": "execute if score #display mpSleep.config matches 0 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 7\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Display: Default\",{\"text\":\".\",\"color\":\"green\"}]}},\" Display: Default (Hidden)\"]\nexecute if score #display mpSleep.config matches 1 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 7\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Display: Default\",{\"text\":\".\",\"color\":\"green\"}]}},\" Display: Default (Boss Bar)\"]\nexecute if score #display mpSleep.config matches 2 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 7\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Display: Default\",{\"text\":\".\",\"color\":\"green\"}]}},\" Display: Default (Action Bar)\"]\nexecute if score #display mpSleep.config matches 3 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 7\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Display: Default\",{\"text\":\".\",\"color\":\"green\"}]}},\" Display: Default (Chat)\"]",
        "data\\multiplayer_sleep\\functions\\trigger\\show_enabled_display_default.mcfunction": "execute if score #display mpSleep.config matches 0 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\"},\" Display: Default (Hidden)\"]\nexecute if score #display mpSleep.config matches 1 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\"},\" Display: Default (Boss Bar)\"]\nexecute if score #display mpSleep.config matches 2 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\"},\" Display: Default (Action Bar)\"]\nexecute if score #display mpSleep.config matches 3 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\"},\" Display: Default (Chat)\"]",
        "data\\multiplayer_sleep\\functions\\trigger\\config.mcfunction": "tellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}\ntellraw @s [\"                Multiplayer Sleep\",{\"text\":\" / \",\"color\":\"gray\"},\"Personal Settings                \"]\ntellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}\nexecute if score @s mpSleep.config matches 0.. run function multiplayer_sleep:trigger/show_disabled_display_default\nexecute unless score @s mpSleep.config matches 0.. run function multiplayer_sleep:trigger/show_enabled_display_default\nexecute if score @s mpSleep.config matches 1 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 7\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to disable \",\"color\":\"red\"},\"Display: Boss Bar\",{\"text\":\".\",\"color\":\"red\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 4\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Display: Boss Bar\",{\"text\":\".\\nThe boss bar preview's color may not be accurate.\",\"color\":\"dark_gray\"}]}},\" Display: Boss Bar\"]\nexecute unless score @s mpSleep.config matches 1 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 8\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Display: Boss Bar\",{\"text\":\".\",\"color\":\"green\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 4\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Display: Boss Bar\",{\"text\":\".\\nThe boss bar preview's color may not be accurate.\",\"color\":\"dark_gray\"}]}},\" Display: Boss Bar\"]\nexecute if score @s mpSleep.config matches 2 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 7\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to disable \",\"color\":\"red\"},\"Display: Action Bar\",{\"text\":\".\",\"color\":\"red\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 5\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Display: Action Bar\",{\"text\":\".\",\"color\":\"gray\"}]}},\" Display: Action Bar\"]\nexecute unless score @s mpSleep.config matches 2 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 9\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Display: Action Bar\",{\"text\":\".\",\"color\":\"green\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 5\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Display: Action Bar\",{\"text\":\".\",\"color\":\"gray\"}]}},\" Display: Action Bar\"]\nexecute if score @s mpSleep.config matches 3 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 7\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to disable \",\"color\":\"red\"},\"Display: Chat\",{\"text\":\".\",\"color\":\"red\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 6\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Display: Chat\",{\"text\":\".\",\"color\":\"gray\"}]}},\" Display: Chat\"]\nexecute unless score @s mpSleep.config matches 3 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 10\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Display: Chat\",{\"text\":\".\",\"color\":\"green\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 6\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Display: Chat\",{\"text\":\".\",\"color\":\"gray\"}]}},\" Display: Chat\"]\ntellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}",
        "data\\multiplayer_sleep\\functions\\trigger\\undo_preview_display_boss_bar.mcfunction": "bossbar set multiplayer_sleep:preview players",
        "data\\multiplayer_sleep\\functions\\trigger\\preview_display_boss_bar.mcfunction": "bossbar set multiplayer_sleep:preview players @s\nschedule function multiplayer_sleep:trigger/undo_preview_display_boss_bar 5s replace",
        "data\\multiplayer_sleep\\functions\\trigger.mcfunction": "execute if score @s mpSleep matches 7.. run function multiplayer_sleep:trigger/use_config\nexecute if score @s mpSleep matches 1 run function multiplayer_sleep:trigger/index\nexecute if score @s mpSleep matches 2 run function multiplayer_sleep:trigger/list_sleeping_players\nexecute if score @s mpSleep matches 3 run function multiplayer_sleep:trigger/config\nexecute if score @s mpSleep matches 4 run function multiplayer_sleep:trigger/preview_display_boss_bar\ntitle @s[scores={mpSleep=5}] actionbar {\"text\":\"1 of 2 player(s) asleep\",\"color\":\"COLOR_2\"}\ntellraw @s[scores={mpSleep=6}] [{\"text\":\"Player\",\"color\":\"COLOR_2\"},{\"text\":\" went to sleep. 1 of 2 player(s) asleep\",\"color\":\"COLOR_1\"}]\nscoreboard players set @s mpSleep 0\nscoreboard players enable @s mpSleep",
        "data\\multiplayer_sleep\\functions\\announce_asleep.mcfunction": "scoreboard players add #asleep mpSleep.dummy 1\nexecute if score #asleep mpSleep.dummy = #total mpSleep.dummy run tellraw @a[tag=mpSleep.display3] [\"\",{\"selector\":\"@s\",\"color\":\"COLOR_2\"},{\"text\":\" went to sleep. Sweet dreams!\",\"color\":\"COLOR_1\"}]\nexecute unless score #asleep mpSleep.dummy = #total mpSleep.dummy unless score #asleep mpSleep.dummy > #total mpSleep.dummy run tellraw @a[tag=mpSleep.display3] [\"\",{\"selector\":\"@s\",\"color\":\"COLOR_2\"},{\"text\":\" went to sleep. \",\"color\":\"COLOR_1\"},{\"score\":{\"name\":\"#asleep\",\"objective\":\"mpSleep.dummy\"},\"color\":\"COLOR_2\"},{\"text\":\" of \",\"color\":\"COLOR_2\"},{\"score\":{\"name\":\"#total\",\"objective\":\"mpSleep.dummy\"},\"color\":\"COLOR_2\"},{\"text\":\" player(s) asleep\",\"color\":\"COLOR_1\"}]",
        "data\\multiplayer_sleep\\functions\\try_to_announce_asleep_immediately.mcfunction": "execute store result score #asleep mpSleep.dummy if entity @a[tag=mpSleep.sleeping,scores={mpSleep.sleep=2..}]\nexecute as @a[tag=mpSleep.sleeping,scores={mpSleep.sleep=1}] run function multiplayer_sleep:announce_asleep\nexecute store result score #asleep mpSleep.dummy if entity @a[tag=mpSleep.sleeping,scores={mpSleep.sleep=100..}]",
        "data\\multiplayer_sleep\\functions\\try_to_announce_asleep.mcfunction": "execute store result score #asleep mpSleep.dummy if entity @a[tag=mpSleep.sleeping,scores={mpSleep.sleep=101..}]\nexecute as @a[tag=mpSleep.sleeping,scores={mpSleep.sleep=100}] run function multiplayer_sleep:announce_asleep",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_14.mcfunction": "time add 16384\nscoreboard players remove #remaining mpSleep.dummy 16384",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_13.mcfunction": "time add 8192\nscoreboard players remove #remaining mpSleep.dummy 8192",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_12.mcfunction": "time add 4096\nscoreboard players remove #remaining mpSleep.dummy 4096",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_11.mcfunction": "time add 2048\nscoreboard players remove #remaining mpSleep.dummy 2048",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_10.mcfunction": "time add 1024\nscoreboard players remove #remaining mpSleep.dummy 1024",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_9.mcfunction": "time add 512\nscoreboard players remove #remaining mpSleep.dummy 512",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_8.mcfunction": "time add 256\nscoreboard players remove #remaining mpSleep.dummy 256",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_7.mcfunction": "time add 128\nscoreboard players remove #remaining mpSleep.dummy 128",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_6.mcfunction": "time add 64\nscoreboard players remove #remaining mpSleep.dummy 64",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_5.mcfunction": "time add 32\nscoreboard players remove #remaining mpSleep.dummy 32",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_4.mcfunction": "time add 16\nscoreboard players remove #remaining mpSleep.dummy 16",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_3.mcfunction": "time add 8\nscoreboard players remove #remaining mpSleep.dummy 8",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_2.mcfunction": "time add 4\nscoreboard players remove #remaining mpSleep.dummy 4",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_1.mcfunction": "time add 2\nscoreboard players remove #remaining mpSleep.dummy 2",
        "data\\multiplayer_sleep\\functions\\increment_time\\bit_0.mcfunction": "time add 1\nscoreboard players remove #remaining mpSleep.dummy 1",
        "data\\multiplayer_sleep\\functions\\handle_skip.mcfunction": "scoreboard players set #remaining mpSleep.dummy 24000\nexecute store result score #time mpSleep.dummy run time query daytime\nscoreboard players operation #remaining mpSleep.dummy -= #time mpSleep.dummy\nexecute if score #remaining mpSleep.dummy matches 16384.. run function multiplayer_sleep:increment_time/bit_14\nexecute if score #remaining mpSleep.dummy matches 8192.. run function multiplayer_sleep:increment_time/bit_13\nexecute if score #remaining mpSleep.dummy matches 4096.. run function multiplayer_sleep:increment_time/bit_12\nexecute if score #remaining mpSleep.dummy matches 2048.. run function multiplayer_sleep:increment_time/bit_11\nexecute if score #remaining mpSleep.dummy matches 1024.. run function multiplayer_sleep:increment_time/bit_10\nexecute if score #remaining mpSleep.dummy matches 512.. run function multiplayer_sleep:increment_time/bit_9\nexecute if score #remaining mpSleep.dummy matches 256.. run function multiplayer_sleep:increment_time/bit_8\nexecute if score #remaining mpSleep.dummy matches 128.. run function multiplayer_sleep:increment_time/bit_7\nexecute if score #remaining mpSleep.dummy matches 64.. run function multiplayer_sleep:increment_time/bit_6\nexecute if score #remaining mpSleep.dummy matches 32.. run function multiplayer_sleep:increment_time/bit_5\nexecute if score #remaining mpSleep.dummy matches 16.. run function multiplayer_sleep:increment_time/bit_4\nexecute if score #remaining mpSleep.dummy matches 8.. run function multiplayer_sleep:increment_time/bit_3\nexecute if score #remaining mpSleep.dummy matches 4.. run function multiplayer_sleep:increment_time/bit_2\nexecute if score #remaining mpSleep.dummy matches 2.. run function multiplayer_sleep:increment_time/bit_1\nexecute if score #remaining mpSleep.dummy matches 1.. run function multiplayer_sleep:increment_time/bit_0\nexecute if predicate multiplayer_sleep:raining run weather rain 1\nexecute if predicate multiplayer_sleep:thundering run weather thunder 1",
        "data\\multiplayer_sleep\\functions\\sufficient_sleeping.mcfunction": "function multiplayer_sleep:reset_progress\nscoreboard players set #sleeping mpSleep.dummy 0\nexecute unless score #asleep mpSleep.dummy = #canSleep mpSleep.dummy run function multiplayer_sleep:handle_skip\nexecute unless predicate multiplayer_sleep:raining_or_thundering if score #alwaysClear mpSleep.config matches 1 run weather rain 1",
        "data\\multiplayer_sleep\\functions\\sleeping.mcfunction": "scoreboard players operation #canSleep mpSleep.dummy = #total mpSleep.dummy\nscoreboard players operation #total mpSleep.dummy *= #percent mpSleep.config\nscoreboard players operation #total mpSleep.dummy /= #total mpSleep.config\nexecute if score #total mpSleep.dummy matches 0 run scoreboard players set #total mpSleep.dummy 1\nscoreboard players reset @a[tag=!mpSleep.sleeping] mpSleep.sleep\nscoreboard players add @a[tag=mpSleep.sleeping] mpSleep.sleep 1\nexecute if score #display mpSleep.config matches 1 as @a[tag=mpSleep.total] unless score @s mpSleep.config matches 1.. run tag @s add mpSleep.display1\nexecute if score #display mpSleep.config matches 2 as @a[tag=mpSleep.total] unless score @s mpSleep.config matches 1.. run tag @s add mpSleep.display2\nexecute if score #display mpSleep.config matches 3 as @a[tag=mpSleep.total] unless score @s mpSleep.config matches 1.. run tag @s add mpSleep.display3\ntag @a[scores={mpSleep.config=1}] add mpSleep.display1\ntag @a[scores={mpSleep.config=2}] add mpSleep.display2\ntag @a[scores={mpSleep.config=3}] add mpSleep.display3\nexecute store result bossbar multiplayer_sleep:progress max run scoreboard players get #total mpSleep.dummy\nexecute store result bossbar multiplayer_sleep:progress value run scoreboard players get #sleeping mpSleep.dummy\nbossbar set multiplayer_sleep:progress name [{\"score\":{\"name\":\"#sleeping\",\"objective\":\"mpSleep.dummy\"}},\" of \",{\"score\":{\"name\":\"#total\",\"objective\":\"mpSleep.dummy\"}},\" player(s) asleep\"]\nbossbar set multiplayer_sleep:progress players @a[tag=mpSleep.display1]\nbossbar set multiplayer_sleep:progress visible true\ntitle @a[tag=mpSleep.display2] actionbar [{\"score\":{\"name\":\"#sleeping\",\"objective\":\"mpSleep.dummy\"},\"color\":\"COLOR_2\"},{\"text\":\" of \",\"color\":\"COLOR_2\"},{\"score\":{\"name\":\"#total\",\"objective\":\"mpSleep.dummy\"},\"color\":\"COLOR_2\"},{\"text\":\" player(s) asleep\",\"color\":\"COLOR_2\"}]\nexecute if score #immediateChat mpSleep.config matches 1 run function multiplayer_sleep:try_to_announce_asleep_immediately\nexecute unless score #immediateChat mpSleep.config matches 1 run function multiplayer_sleep:try_to_announce_asleep\nexecute unless score #asleep mpSleep.dummy < #total mpSleep.dummy run function multiplayer_sleep:sufficient_sleeping\ntag @a remove mpSleep.display1\ntag @a remove mpSleep.display2\ntag @a remove mpSleep.display3\ntag @a remove mpSleep.sleeping",
        "data\\multiplayer_sleep\\functions\\check_sleeping.mcfunction": "tag @a[predicate=multiplayer_sleep:overworld] add mpSleep.total\nexecute store result score #total mpSleep.dummy if entity @a[tag=mpSleep.total,gamemode=!spectator]\nexecute as @a[tag=mpSleep.total,gamemode=!spectator] if data entity @s SleepingX run tag @s add mpSleep.sleeping\nexecute store result score #sleeping mpSleep.dummy if entity @a[tag=mpSleep.sleeping]\nexecute if score #sleeping mpSleep.dummy matches 0 run function multiplayer_sleep:reset_progress\nexecute unless score #sleeping mpSleep.dummy matches 0 run function multiplayer_sleep:sleeping\ntag @a remove mpSleep.total",
        "data\\multiplayer_sleep\\functions\\tick.mcfunction": "schedule function multiplayer_sleep:tick 1t\nexecute as @a[scores={mpSleep=1..}] run function multiplayer_sleep:trigger\nexecute if score #sleeping mpSleep.dummy matches 1.. run function multiplayer_sleep:check_sleeping\nexecute if score #sleeping mpSleep.dummy matches -1 if predicate multiplayer_sleep:clear_day run scoreboard players set #sleeping mpSleep.dummy 0",
        "data\\multiplayer_sleep\\functions\\enable_trigger.mcfunction": "schedule function multiplayer_sleep:enable_trigger 1s\nscoreboard players enable @a mpSleep",
        "data\\multiplayer_sleep\\functions\\start_sleeping.mcfunction": "advancement revoke @s only multiplayer_sleep:slept_in_bed\nexecute if predicate multiplayer_sleep:overworld unless score #sleeping mpSleep.dummy matches -1 run scoreboard players set #sleeping mpSleep.dummy 1",
        "data\\multiplayer_sleep\\functions\\reset_progress.mcfunction": "scoreboard players reset * mpSleep.sleep\nbossbar set multiplayer_sleep:progress visible false",
        "data\\multiplayer_sleep\\functions\\restore_command_feedback.mcfunction": "gamerule sendCommandFeedback true",
        "data\\multiplayer_sleep\\functions\\hide_command_feedback.mcfunction": "gamerule sendCommandFeedback false\nschedule function multiplayer_sleep:restore_command_feedback 1t replace",
        "data\\multiplayer_sleep\\functions\\config.mcfunction": "tellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}\ntellraw @s [\"                  Multiplayer Sleep\",{\"text\":\" / \",\"color\":\"gray\"},\"Global Settings                  \"]\ntellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}\nexecute if score #display mpSleep.config matches 0 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\"},\" Default Display: Hidden\"]\nexecute unless score #display mpSleep.config matches 0 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/function multiplayer_sleep:config/enable_default_display_hidden\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Default Display: Hidden\",{\"text\":\".\",\"color\":\"green\"}]}},\" Default Display: Hidden\"]\nexecute if score #display mpSleep.config matches 1 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/function multiplayer_sleep:config/enable_default_display_hidden\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to disable \",\"color\":\"red\"},\"Default Display: Boss Bar\",{\"text\":\".\",\"color\":\"red\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 4\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Default Display: Boss Bar\",{\"text\":\".\\nThe boss bar preview's color may not be accurate.\",\"color\":\"dark_gray\"}]}},\" Default Display: Boss Bar\"]\nexecute unless score #display mpSleep.config matches 1 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/function multiplayer_sleep:config/enable_default_display_boss_bar\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Default Display: Boss Bar\",{\"text\":\".\",\"color\":\"green\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 4\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Default Display: Boss Bar\",{\"text\":\".\\nThe boss bar preview's color may not be accurate.\",\"color\":\"dark_gray\"}]}},\" Default Display: Boss Bar\"]\nexecute if score #display mpSleep.config matches 2 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/function multiplayer_sleep:config/enable_default_display_hidden\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to disable \",\"color\":\"red\"},\"Default Display: Action Bar\",{\"text\":\".\",\"color\":\"red\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 5\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Default Display: Action Bar\",{\"text\":\".\",\"color\":\"gray\"}]}},\" Default Display: Action Bar\"]\nexecute unless score #display mpSleep.config matches 2 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/function multiplayer_sleep:config/enable_default_display_action_bar\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Default Display: Action Bar\",{\"text\":\".\",\"color\":\"green\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 5\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Default Display: Action Bar\",{\"text\":\".\",\"color\":\"gray\"}]}},\" Default Display: Action Bar\"]\nexecute if score #display mpSleep.config matches 3 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/function multiplayer_sleep:config/enable_default_display_hidden\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to disable \",\"color\":\"red\"},\"Default Display: Chat\",{\"text\":\".\",\"color\":\"red\"},{\"text\":\"\\nDefault\",\"color\":\"dark_gray\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 6\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Default Display: Chat\",{\"text\":\".\",\"color\":\"gray\"}]}},\" Default Display: Chat\"]\nexecute unless score #display mpSleep.config matches 3 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/function multiplayer_sleep:config/enable_default_display_chat\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Default Display: Chat\",{\"text\":\".\",\"color\":\"green\"},{\"text\":\"\\nDefault\",\"color\":\"dark_gray\"}]}},\" \",{\"text\":\"[ ℹ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger mpSleep set 6\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to preview \",\"color\":\"gray\"},\"Default Display: Chat\",{\"text\":\".\",\"color\":\"gray\"}]}},\" Default Display: Chat\"]\nexecute if score #immediateChat mpSleep.config matches 1 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/function multiplayer_sleep:config/disable_immediate_chat\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to disable \",\"color\":\"red\"},\"Immediate Chat Display\",{\"text\":\".\",\"color\":\"red\"},{\"text\":\"\\nWhen enabled, this sends Chat Display messages at the time the player enters the bed rather than after 5 seconds of sleeping.\",\"color\":\"gray\"},{\"text\":\"\\nDefault: Disabled\",\"color\":\"dark_gray\"}]}},\" Immediate Chat Display\"]\nexecute unless score #immediateChat mpSleep.config matches 1 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/function multiplayer_sleep:config/enable_immediate_chat\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Immediate Chat Display\",{\"text\":\".\",\"color\":\"green\"},{\"text\":\"\\nWhen enabled, this sends Chat Display messages at the time the player enters the bed rather than after 5 seconds of sleeping.\",\"color\":\"gray\"},{\"text\":\"\\nDefault: Disabled\",\"color\":\"dark_gray\"}]}},\" Immediate Chat Display\"]\ntellraw @s [\"\",{\"text\":\"[ ✎ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"suggest_command\",\"value\":\"/scoreboard players set #percent mpSleep.config \"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enter the percentage of players required to sleep.\\nEnter \",\"color\":\"gray\"},\"0\",{\"text\":\" to require only one player.\",\"color\":\"gray\"},{\"text\":\"\\nAccepts: whole numbers 0-100\\nDefault: 0\",\"color\":\"dark_gray\"}]}},\" Players Required to Sleep \",{\"text\":\"(Current: \",\"color\":\"gray\"},{\"score\":{\"name\":\"#percent\",\"objective\":\"mpSleep.config\"},\"color\":\"gray\"},{\"text\":\"%)\",\"color\":\"gray\"}]\ntellraw @s [\"\",{\"text\":\"[ ✎ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"suggest_command\",\"value\":\"/bossbar set multiplayer_sleep:progress color \"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enter a color for the boss bar display.\",\"color\":\"gray\"},{\"text\":\"\\nAccepts: blue, green, pink, purple, red, white, yellow\\nDefault: white\",\"color\":\"dark_gray\"}]}},\" Boss Bar Color\"]\nexecute if score #alwaysClear mpSleep.config matches 1 run tellraw @s [\"\",{\"text\":\"[ ✔ ]\",\"color\":\"green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/function multiplayer_sleep:config/disable_always_clear\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to disable \",\"color\":\"red\"},\"Always Reset Weather Cycle\",{\"text\":\".\",\"color\":\"red\"},{\"text\":\"\\nWhen enabled, the weather cycle will reset to clear upon sleeping, whether or not the weather is clear already.\",\"color\":\"gray\"},{\"text\":\"\\nWhen sleeping occurs, this may cause rain to briefly appear, and the weather will not rain for a while afterward. This setting is incompatible with gamerule doWeatherCycle false.\",\"color\":\"red\"},{\"text\":\"\\nWhen disabled, the weather cycle will only reset to clear upon sleeping if it's already raining, just like in vanilla.\",\"color\":\"gray\"},{\"text\":\"\\nDefault: Disabled\",\"color\":\"dark_gray\"}]}},\" Always Reset Weather Cycle\"]\nexecute unless score #alwaysClear mpSleep.config matches 1 run tellraw @s [\"\",{\"text\":\"[ ❌ ]\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/function multiplayer_sleep:config/enable_always_clear\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enable \",\"color\":\"green\"},\"Always Reset Weather Cycle\",{\"text\":\".\",\"color\":\"green\"},{\"text\":\"\\nWhen enabled, the weather cycle will reset to clear upon sleeping, whether or not the weather is clear already.\",\"color\":\"gray\"},{\"text\":\"\\nWhen sleeping occurs, this may cause rain to briefly appear, and the weather will not rain for a while afterward. This setting is incompatible with gamerule doWeatherCycle false.\",\"color\":\"red\"},{\"text\":\"\\nWhen disabled, the weather cycle will only reset to clear upon sleeping if it's already raining, just like in vanilla.\",\"color\":\"gray\"},{\"text\":\"\\nDefault: Disabled\",\"color\":\"dark_gray\"}]}},\" Always Reset Weather Cycle\"]\ntellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}\nexecute store result score #sendCommandFeedback mpSleep.config run gamerule sendCommandFeedback\nexecute if score #sendCommandFeedback mpSleep.config matches 1 run function multiplayer_sleep:hide_command_feedback",
        "data\\multiplayer_sleep\\functions\\config\\enable_default_display_hidden.mcfunction": "scoreboard players set #display mpSleep.config 0\nfunction multiplayer_sleep:config",
        "data\\multiplayer_sleep\\functions\\config\\enable_default_display_boss_bar.mcfunction": "scoreboard players set #display mpSleep.config 1\nfunction multiplayer_sleep:config",
        "data\\multiplayer_sleep\\functions\\config\\enable_default_display_action_bar.mcfunction": "scoreboard players set #display mpSleep.config 2\nfunction multiplayer_sleep:config",
        "data\\multiplayer_sleep\\functions\\config\\enable_default_display_chat.mcfunction": "scoreboard players set #display mpSleep.config 3\nfunction multiplayer_sleep:config",
        "data\\multiplayer_sleep\\functions\\config\\enable_immediate_chat.mcfunction": "scoreboard players set #immediateChat mpSleep.config 1\nfunction multiplayer_sleep:config",
        "data\\multiplayer_sleep\\functions\\config\\disable_immediate_chat.mcfunction": "scoreboard players set #immediateChat mpSleep.config 0\nfunction multiplayer_sleep:config",
        "data\\multiplayer_sleep\\functions\\config\\enable_always_clear.mcfunction": "scoreboard players set #alwaysClear mpSleep.config 1\nfunction multiplayer_sleep:config",
        "data\\multiplayer_sleep\\functions\\config\\disable_always_clear.mcfunction": "scoreboard players set #alwaysClear mpSleep.config 0\nfunction multiplayer_sleep:config",
        "data\\minecraft\\tags\\functions\\load.json": "{\"replace\":false,\"values\":[\"multiplayer_sleep:load\",\"multiplayer_sleep:tick\",\"multiplayer_sleep:enable_trigger\"]}"
      }
    }
  ]
]