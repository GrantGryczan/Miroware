[
  [
    "lastUpdate",
    "Fri Oct 23 2020 04:11:39 GMT-0400 (Eastern Daylight Time)"
  ],
  [
    "INTERNAL/VIRTUAL_FILE_SYSTEM",
    {
      "src\\tpa.mc": {
        "data\\tpa\\functions\\load.mcfunction": "scoreboard objectives add tpa.config dummy \"TPA Config\"\nscoreboard objectives add tpa.pid dummy \"Player ID\"\nscoreboard objectives setdisplay list tpa.pid\nscoreboard objectives add tpa.target dummy\nscoreboard objectives add tpa.timeout dummy\nscoreboard objectives add tpa.cooldown dummy\nscoreboard objectives add tpa trigger\nscoreboard objectives add tpcancel trigger\nscoreboard objectives add tpaccept trigger\nscoreboard objectives add tpdeny trigger\nexecute unless score #cooldown tpa.config matches 0.. run scoreboard players set #cooldown tpa.config 0",
        "data\\tpa\\functions\\uninstall.mcfunction": "schedule clear tpa:tick\nschedule clear tpa:decrement_cooldowns\nscoreboard objectives remove tpa.config\nscoreboard objectives remove tpa.pid\nscoreboard objectives remove tpa.target\nscoreboard objectives remove tpa.timeout\nscoreboard objectives remove tpa.cooldown\nscoreboard objectives remove tpa\nscoreboard objectives remove tpcancel\nscoreboard objectives remove tpaccept\nscoreboard objectives remove tpdeny",
        "data\\tpa\\functions\\time_out_tpa.mcfunction": "tag @s add tpa.sender\ntellraw @s {\"text\":\"Your teleport request has timed out after five minutes.\",\"color\":\"red\"}\nexecute as @a if score @s tpa.pid = @a[tag=tpa.sender,limit=1] tpa.target run tellraw @s [\"\",{\"selector\":\"@a[tag=tpa.sender]\",\"color\":\"red\"},{\"text\":\"'s teleport request has timed out after five minutes.\",\"color\":\"red\"}]\nscoreboard players reset @s tpa.target\nscoreboard players reset @s tpa.timeout\ntag @s remove tpa.sender",
        "data\\tpa\\functions\\receive_tpa.mcfunction": "execute as @a[tag=tpa.sender] if score @s tpa.target matches 1.. run function tpa:cancel_tpa\nscoreboard players operation @a[tag=tpa.sender] tpa.target = @a[tag=tpa.sender] tpa\ntellraw @a[tag=tpa.sender] [{\"text\":\"You have requested to teleport to \",\"color\":\"COLOR_1\"},{\"selector\":\"@s\",\"color\":\"COLOR_2\"},{\"text\":\".\\nTo cancel, \",\"color\":\"COLOR_1\"},{\"text\":\"enter\",\"color\":\"COLOR_3\"},{\"text\":\" or \",\"color\":\"COLOR_1\"},{\"text\":\"click\",\"color\":\"COLOR_3\"},{\"text\":\" on \",\"color\":\"COLOR_1\"},{\"text\":\"/trigger tpcancel\",\"color\":\"COLOR_2\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger tpcancel\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Click to run \",\"color\":\"COLOR_1\"},{\"text\":\"/trigger tpcancel\",\"color\":\"COLOR_2\"},{\"text\":\".\",\"color\":\"COLOR_1\"}]}},{\"text\":\".\",\"color\":\"COLOR_1\"}]\ntellraw @s [\"\",{\"selector\":\"@a[tag=tpa.sender]\",\"color\":\"COLOR_2\"},{\"text\":\" has requested to teleport to you.\\nTo accept, \",\"color\":\"COLOR_1\"},{\"text\":\"enter\",\"color\":\"COLOR_3\"},{\"text\":\" or \",\"color\":\"COLOR_1\"},{\"text\":\"click\",\"color\":\"COLOR_3\"},{\"text\":\" on \",\"color\":\"COLOR_1\"},{\"text\":\"/trigger tpaccept\",\"color\":\"COLOR_2\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger tpaccept\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Click to run \",\"color\":\"COLOR_1\"},{\"text\":\"/trigger tpaccept\",\"color\":\"COLOR_2\"},{\"text\":\".\\nThe \",\"color\":\"COLOR_1\"},{\"text\":\"most recent\",\"color\":\"red\"},{\"text\":\" active teleport request will be accepted.\\nEnter \",\"color\":\"COLOR_1\"},{\"text\":\"/trigger tpaccept set <PID>\",\"color\":\"COLOR_2\"},{\"text\":\" instead if this player's request is not the most recent.\",\"color\":\"COLOR_1\"}]}},{\"text\":\".\\nTo deny, \",\"color\":\"COLOR_1\"},{\"text\":\"enter\",\"color\":\"COLOR_3\"},{\"text\":\" or \",\"color\":\"COLOR_1\"},{\"text\":\"click\",\"color\":\"COLOR_3\"},{\"text\":\" on \",\"color\":\"COLOR_1\"},{\"text\":\"/trigger tpdeny\",\"color\":\"COLOR_2\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger tpdeny\"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Click to run \",\"color\":\"COLOR_1\"},{\"text\":\"/trigger tpdeny\",\"color\":\"COLOR_2\"},{\"text\":\".\\nThe \",\"color\":\"COLOR_1\"},{\"text\":\"most recent\",\"color\":\"red\"},{\"text\":\" active teleport request will be denied.\\nEnter \",\"color\":\"COLOR_1\"},{\"text\":\"/trigger tpdeny set <PID>\",\"color\":\"COLOR_2\"},{\"text\":\" instead if this player's request is not the most recent.\",\"color\":\"COLOR_1\"}]}},{\"text\":\".\",\"color\":\"COLOR_1\"}]",
        "data\\tpa\\functions\\send_tpa.mcfunction": "tag @s add tpa.sender\nexecute as @a if score @s tpa.pid = @a[tag=tpa.sender,limit=1] tpa run tag @s add tpa.target\nexecute unless entity @a[tag=tpa.target] run tellraw @s [{\"text\":\"No player with PID \",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"tpa\"},\"color\":\"red\"},{\"text\":\" was found.\",\"color\":\"red\"}]\nexecute if entity @s[tag=tpa.target] run tellraw @s {\"text\":\"You cannot send a teleport request to yourself.\",\"color\":\"red\"}\nexecute as @a[tag=!tpa.sender,tag=tpa.target,limit=1] run function tpa:receive_tpa\ntag @s remove tpa.sender\ntag @a[tag=tpa.target] remove tpa.target",
        "data\\tpa\\functions\\trigger_tpa.mcfunction": "execute if score @s tpa.cooldown matches 1.. run tellraw @s [{\"text\":\"Your TPA cooldown will end in \",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"tpa.cooldown\"},\"color\":\"red\"},{\"text\":\" seconds.\",\"color\":\"red\"}]\nexecute unless score @s tpa.cooldown matches 1.. run function tpa:send_tpa\nscoreboard players set @s tpa 0",
        "data\\tpa\\functions\\trigger_tpcancel.mcfunction": "execute unless score @s tpa.target matches 1.. run tellraw @s {\"text\":\"You have no active teleport requests to cancel.\",\"color\":\"red\"}\nexecute if score @s tpa.target matches 1.. run function tpa:cancel_tpa",
        "data\\tpa\\functions\\accept_tpa.mcfunction": "tellraw @a[tag=tpa.target] [{\"text\":\"You have accepted \",\"color\":\"COLOR_1\"},{\"selector\":\"@s\",\"color\":\"COLOR_2\"},{\"text\":\"'s teleport request.\",\"color\":\"COLOR_1\"}]\ntellraw @s [\"\",{\"selector\":\"@a[tag=tpa.target]\",\"color\":\"COLOR_2\"},{\"text\":\" has accepted your teleport request.\",\"color\":\"COLOR_1\"}]\nexecute unless score #cooldown tpa.config matches 0 run scoreboard players operation @s tpa.cooldown = #cooldown tpa.config\nexecute at @s run function back:set_back\ntp @s @a[tag=tpa.target,limit=1]\nscoreboard players reset @s tpa.target\nscoreboard players reset @s tpa.timeout\ntag @s remove tpa.sender",
        "data\\tpa\\functions\\trigger_tpaccept.mcfunction": "tag @s add tpa.target\nexecute as @a if score @s tpa.target = @a[tag=tpa.target,limit=1] tpa.pid run tag @s add tpa.sender\nexecute unless score @s tpaccept matches 0 as @a unless score @s tpa.pid = @a[tag=tpa.target,limit=1] tpaccept run tag @s remove tpa.sender\nexecute unless score @s tpaccept matches 0 unless entity @a[tag=tpa.sender] run tellraw @s [{\"text\":\"You have no active teleport requests from a player with PID \",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"tpaccept\"},\"color\":\"red\"},{\"text\":\" to accept.\",\"color\":\"red\"}]\nexecute if score @s tpaccept matches 0 unless entity @a[tag=tpa.sender] run tellraw @s {\"text\":\"You have no active teleport requests to accept.\",\"color\":\"red\"}\nexecute if score @s tpaccept matches 0 as @a[tag=tpa.sender] run function tpa:untag_older_senders\nexecute as @a[tag=tpa.sender] run function tpa:accept_tpa\ntag @s remove tpa.target",
        "data\\tpa\\functions\\deny_tpa.mcfunction": "tellraw @a[tag=tpa.target] [{\"text\":\"You have denied \",\"color\":\"COLOR_1\"},{\"selector\":\"@s\",\"color\":\"COLOR_2\"},{\"text\":\"'s teleport request.\",\"color\":\"COLOR_1\"}]\ntellraw @s [\"\",{\"selector\":\"@a[tag=tpa.target]\",\"color\":\"red\"},{\"text\":\" has denied your teleport request.\",\"color\":\"red\"}]\nscoreboard players reset @s tpa.target\nscoreboard players reset @s tpa.timeout\ntag @s remove tpa.sender",
        "data\\tpa\\functions\\trigger_tpdeny.mcfunction": "tag @s add tpa.target\nexecute as @a if score @s tpa.target = @a[tag=tpa.target,limit=1] tpa.pid run tag @s add tpa.sender\nexecute unless score @s tpdeny matches 0 as @a unless score @s tpa.pid = @a[tag=tpa.target,limit=1] tpdeny run tag @s remove tpa.sender\nexecute unless score @s tpdeny matches 0 unless entity @a[tag=tpa.sender] run tellraw @s [{\"text\":\"You have no active teleport requests from a player with PID \",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"tpdeny\"},\"color\":\"red\"},{\"text\":\" to deny.\",\"color\":\"red\"}]\nexecute if score @s tpdeny matches 0 unless entity @a[tag=tpa.sender] run tellraw @s {\"text\":\"You have no active teleport requests to deny.\",\"color\":\"red\"}\nexecute if score @s tpdeny matches 0 as @a[tag=tpa.sender] run function tpa:untag_older_senders\nexecute as @a[tag=tpa.sender] run function tpa:deny_tpa\ntag @s remove tpa.target",
        "data\\tpa\\functions\\tick.mcfunction": "schedule function tpa:tick 1t\nexecute as @a unless score @s tpa.pid matches 1.. store result score @s tpa.pid run scoreboard players add #last tpa.pid 1\nscoreboard players add @a[scores={tpa.target=1..}] tpa.timeout 1\nexecute as @a[scores={tpa.timeout=6000..}] run function tpa:time_out_tpa\nexecute as @a[scores={tpa=1..}] run function tpa:trigger_tpa\nscoreboard players enable @a tpa\nexecute as @a[scores={tpcancel=1}] run function tpa:trigger_tpcancel\nscoreboard players enable @a tpcancel\nscoreboard players set @a tpcancel 0\nexecute as @a[scores={tpaccept=0..}] run function tpa:trigger_tpaccept\nscoreboard players enable @a tpaccept\nscoreboard players set @a tpaccept -1\nexecute as @a[scores={tpdeny=0..}] run function tpa:trigger_tpdeny\nscoreboard players enable @a tpdeny\nscoreboard players set @a tpdeny -1",
        "data\\tpa\\functions\\decrement_cooldown.mcfunction": "scoreboard players remove @s tpa.cooldown 1\nscoreboard players reset @s[scores={tpa.cooldown=0}] tpa.cooldown",
        "data\\tpa\\functions\\decrement_cooldowns.mcfunction": "schedule function tpa:decrement_cooldowns 1s\nexecute as @a[scores={tpa.cooldown=1..}] run function tpa:decrement_cooldown",
        "data\\tpa\\functions\\untag_older_senders.mcfunction": "tag @s add tpa.self\nexecute as @a[tag=tpa.sender] if score @s tpa.timeout > @a[tag=tpa.self,limit=1] tpa.timeout run tag @s remove tpa.sender\ntag @s remove tpa.self",
        "data\\tpa\\functions\\cancel_tpa.mcfunction": "tag @s add tpa.cancelSender\nexecute if entity @s[tag=tpa.sender] run tellraw @s {\"text\":\"You have cancelled your previous teleport request.\",\"color\":\"red\"}\nexecute unless entity @s[tag=tpa.sender] run tellraw @s {\"text\":\"You have cancelled your teleport request.\",\"color\":\"COLOR_1\"}\nexecute as @a if score @s tpa.pid = @a[tag=tpa.cancelSender,limit=1] tpa.target run tellraw @s [\"\",{\"selector\":\"@a[tag=tpa.cancelSender]\",\"color\":\"red\"},{\"text\":\" has cancelled their teleport request.\",\"color\":\"red\"}]\nscoreboard players reset @s tpa.target\nscoreboard players reset @s tpa.timeout\ntag @s remove tpa.cancelSender",
        "data\\tpa\\functions\\restore_command_feedback.mcfunction": "gamerule sendCommandFeedback true",
        "data\\tpa\\functions\\hide_command_feedback.mcfunction": "gamerule sendCommandFeedback false\nschedule function tpa:restore_command_feedback 1t replace",
        "data\\tpa\\functions\\config.mcfunction": "tellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}\ntellraw @s [\"                           TPA\",{\"text\":\" / \",\"color\":\"gray\"},\"Global Settings                           \"]\ntellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}\ntellraw @s [\"\",{\"text\":\"[ ✎ ]\",\"color\":\"gray\",\"clickEvent\":{\"action\":\"suggest_command\",\"value\":\"/scoreboard players set #cooldown tpa.config \"},\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[\"\",{\"text\":\"Click to enter the number of seconds required to wait between uses of the TPA command.\",\"color\":\"gray\"},{\"text\":\"\\nAccepts: whole numbers 0+\\nDefault: 0\",\"color\":\"dark_gray\"}]}},\" Cooldown \",{\"text\":\"(Current: \",\"color\":\"gray\"},{\"score\":{\"name\":\"#cooldown\",\"objective\":\"tpa.config\"},\"color\":\"gray\"},{\"text\":\")\",\"color\":\"gray\"}]\ntellraw @s {\"text\":\"                                                                                \",\"color\":\"dark_gray\",\"strikethrough\":true}\nexecute store result score #sendCommandFeedback tpa.config run gamerule sendCommandFeedback\nexecute if score #sendCommandFeedback tpa.config matches 1 run function tpa:hide_command_feedback",
        "data\\minecraft\\tags\\functions\\load.json": "{\"replace\":false,\"values\":[\"tpa:load\",\"tpa:tick\",\"tpa:decrement_cooldowns\"]}"
      }
    }
  ]
]